<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Race üèé</title>
    <link rel="shortcut icon" href="data:image/x-icon;" type="image/x-icon" />

    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="banner">
      <h1 class="text-center">Race</h1>
    </div>
    <hr />
    <!-- You race HTML code here -->
    <table class="racer-table">
      <tr id="player1-race">
        <td class="active"></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td class="finish"></td>
      </tr>
      <tr id="player2-race">
        <td class="active"></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td class="finish"></td>
      </tr>
    </table>
    <hr />
    <h2 class="red"></h2>
  </body>
  <script>
    let player1 = document.querySelector("#player1-race");
    let player2 = document.querySelector("#player2-race");
    let h2 = document.querySelector("h2");

    const move = (e) => {
      if (e.key === "d") {
        let steps = player1.querySelector(".active");
        steps.classList.remove("active");
        if (steps.nextElementSibling.classList.contains("finish")) {
          steps.nextElementSibling.classList.add("active");
          window.removeEventListener("keyup", move);
          h2.innerHTML = "Player 1 won";
          return;
        }
        steps.nextElementSibling.classList.add("active");
      }
      if (e.key === "l") {
        let steps = player2.querySelector(".active");
        steps.classList.remove("active");
        if (steps.nextElementSibling.classList.contains("finish")) {
          steps.nextElementSibling.classList.add("active");
          window.removeEventListener("keyup", move);
          h2.innerHTML = "Player 2 won";
          return;
        }
        steps.nextElementSibling.classList.add("active");
      }
    };
    window.addEventListener("keyup", move);
  </script>
</html>
